import{S as B,i as H,s as L,I as m}from"../chunks/index.61cd7198.js";import{i as U,P as q,H as l,A as D}from"../chunks/jspsych.44488363.js";import"../chunks/muse.5bbc7ee0.js";import{m as w,a as I,p as J,g as W}from"../chunks/store.8b8872e6.js";let F="/audio/500hz_50ms.wav",G="/audio/2000hz_50ms.wav";function Q(s,p,i){let c,h,b,y;m(s,w,e=>i(4,c=e)),m(s,I,e=>i(5,h=e)),m(s,J,e=>i(6,b=e)),m(s,W,e=>i(7,y=e));let{data:u}=p;function P(e){const t=document.createElement("a");let d=["timestamp","marker"].join(",")+`
`;e.forEach(Y=>{let A=Object.values(Y).join(",");d+=A,d+=`
`});const R=new Blob([d],{type:"text/csv"});t.href=URL.createObjectURL(R),document.body.appendChild(t),t.download=`markers_${y}_${b}_${h}.csv`,t.click(),document.body.removeChild(t)}const x=U({show_progress_bar:!0});let o=[];const E={type:q,auto_preload:!0};o.push(E);let K={type:l,stimulus:`<h1> Welcome to the experiment.<h1> 
        <h1 style='color:blue'> Press any key to connect with Muse. </h1>`};o.push(K);const M={type:l,stimulus:"<h1> Press any key to continue further ... </h1>"};o.push(M);let k=u.n_blocks,r=u.n_per_block,_=[];function f(e){_.push({timestamp:new Date().getTime()/1e3,marker:e})}let O=[...new Array(r).keys()],g=Math.floor(r/8)+Math.floor(Math.random()*r/8)+1,n=O.map(e=>0);for(let e=0;e<g;e++)for(;;){let t=Math.floor(Math.random()*(r-1))+1;if(n[t-1]!=1&&n[t]!=1&&n[t+1]!=1){n[t]=1;break}}let a=0,v=1;const S=()=>{let e=F;return n[a]==1?(f(1001),e=G):f(1002),a+=1,a==r&&(a=0,v+=1),e};let j={type:l,stimulus:'<div style="font-size:700px;">+</div>',choices:"NO_KEYS",trial_duration:500,data:{task:"fixation"}};const z={timeline:[{type:D,stimulus:S,choices:"NO_KEYS",post_trial_gap:900,trial_ends_after_audio:!0}],timeline_variables:a,repetitions:r,randomize_order:!0},N={type:l,choices:"NO_KEYS",stimulus:`<h1> Trial Block No: ${v}/${k}</h1>`,trial_duration:1500},T={timeline:[j,N,z],timeline_variables:a,repetitions:k,randomize_order:!0};o.push(T);const C={type:l,stimulus:"<p>The experiment is complete. Thanks!</p>",choices:"NO_KEYS",on_start:()=>{console.log(g,_),c.push(_),w.set(c),P(c)}};return o.push(C),x.run(o),s.$$set=e=>{"data"in e&&i(0,u=e.data)},[u]}class se extends B{constructor(p){super(),H(this,p,Q,null,L,{data:0})}}export{se as default};
