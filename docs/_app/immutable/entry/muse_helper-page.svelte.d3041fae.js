import{S as gt,i as wt,s as xt,k as c,q as p,a as x,R as St,l as d,m as f,r as v,h,c as S,n as u,G as s,b as We,M as yt,H as Ze,T as bt}from"../chunks/index.61cd7198.js";import{m as vt}from"../chunks/muse.5bbc7ee0.js";var Et={};(function(Ae){(function(C){/**
 * @license
 * MIT License:
 *
 * Copyright (c) 2010-2013, Joe Walnes
 *               2013-2018, Drew Noakes
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Date.now=Date.now||function(){return new Date().getTime()};var y={extend:function(){arguments[0]=arguments[0]||{};for(var a=1;a<arguments.length;a++)for(var e in arguments[a])arguments[a].hasOwnProperty(e)&&(typeof arguments[a][e]=="object"?arguments[a][e]instanceof Array?arguments[0][e]=arguments[a][e]:arguments[0][e]=y.extend(arguments[0][e],arguments[a][e]):arguments[0][e]=arguments[a][e]);return arguments[0]},binarySearch:function(a,e){for(var i=0,r=a.length;i<r;){var l=i+r>>1;e<a[l][0]?r=l:i=l+1}return i},pixelSnap:function(a,e){return e%2===0?Math.round(a):Math.floor(a)+.5}};function b(a){this.options=y.extend({},b.defaultOptions,a),this.disabled=!1,this.clear()}b.defaultOptions={resetBoundsInterval:3e3,resetBounds:!0},b.prototype.clear=function(){this.data=[],this.maxValue=Number.NaN,this.minValue=Number.NaN},b.prototype.resetBounds=function(){if(this.data.length){this.maxValue=this.data[0][1],this.minValue=this.data[0][1];for(var a=1;a<this.data.length;a++){var e=this.data[a][1];e>this.maxValue&&(this.maxValue=e),e<this.minValue&&(this.minValue=e)}}else this.maxValue=Number.NaN,this.minValue=Number.NaN},b.prototype.append=function(a,e,i){if(!(isNaN(a)||isNaN(e))){var r=this.data.length-1;if(r>=0)for(var l=r;;){var t=this.data[l];if(a>=t[0]){a===t[0]?i?(t[1]+=e,e=t[1]):t[1]=e:this.data.splice(l+1,0,[a,e]);break}if(l--,l<0){this.data.splice(0,0,[a,e]);break}}else this.data.push([a,e]);this.maxValue=isNaN(this.maxValue)?e:Math.max(this.maxValue,e),this.minValue=isNaN(this.minValue)?e:Math.min(this.minValue,e)}},b.prototype.dropOldData=function(a,e){for(var i=0;this.data.length-i>=e&&this.data[i+1][0]<a;)i++;i!==0&&this.data.splice(0,i)};function m(a){this.options=y.extend({},m.defaultChartOptions,a),this.seriesSet=[],this.currentValueRange=1,this.currentVisMinValue=0,this.lastRenderTimeMillis=0,this.lastChartTimestamp=0,this.mousemove=this.mousemove.bind(this),this.mouseout=this.mouseout.bind(this)}m.tooltipFormatter=function(a,e){var i=this.options.timestampFormatter||m.timeFormatter,r=document.createElement("div"),l;r.appendChild(document.createTextNode(i(new Date(a))));for(var t=0;t<e.length;++t){l=e[t].series.options.tooltipLabel||"",l!==""&&(l=l+" ");var n=document.createElement("span");n.style.color=e[t].series.options.strokeStyle,n.appendChild(document.createTextNode(l+this.options.yMaxFormatter(e[t].value,this.options.labels.precision))),r.appendChild(document.createElement("br")),r.appendChild(n)}return r.innerHTML},m.defaultChartOptions={millisPerPixel:20,enableDpiScaling:!0,yMinFormatter:function(a,e){return parseFloat(a).toFixed(e)},yMaxFormatter:function(a,e){return parseFloat(a).toFixed(e)},yIntermediateFormatter:function(a,e){return parseFloat(a).toFixed(e)},maxValueScale:1,minValueScale:1,interpolation:"bezier",scaleSmoothing:.125,maxDataSetLength:2,scrollBackwards:!1,displayDataFromPercentile:1,grid:{fillStyle:"#000000",strokeStyle:"#777777",lineWidth:2,millisPerLine:1e3,verticalSections:2,borderVisible:!0},labels:{fillStyle:"#ffffff",disabled:!1,fontSize:10,fontFamily:"monospace",precision:2,showIntermediateLabels:!1,intermediateLabelSameAxis:!0},title:{text:"",fillStyle:"#ffffff",fontSize:15,fontFamily:"monospace",verticalAlign:"middle"},horizontalLines:[],tooltip:!1,tooltipLine:{lineWidth:1,strokeStyle:"#BBBBBB"},tooltipFormatter:m.tooltipFormatter,nonRealtimeData:!1,responsive:!1,limitFPS:0},m.AnimateCompatibility=function(){var a=function(i,r){var l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(function(){t(Date.now())},16)};return l.call(window,i,r)},e=function(i){var r=window.cancelAnimationFrame||function(l){clearTimeout(l)};return r.call(window,i)};return{requestAnimationFrame:a,cancelAnimationFrame:e}}(),m.defaultSeriesPresentationOptions={lineWidth:1,strokeStyle:"#ffffff"},m.prototype.addTimeSeries=function(a,e){this.seriesSet.push({timeSeries:a,options:y.extend({},m.defaultSeriesPresentationOptions,e)}),a.options.resetBounds&&a.options.resetBoundsInterval>0&&(a.resetBoundsTimerId=setInterval(function(){a.resetBounds()},a.options.resetBoundsInterval))},m.prototype.removeTimeSeries=function(a){for(var e=this.seriesSet.length,i=0;i<e;i++)if(this.seriesSet[i].timeSeries===a){this.seriesSet.splice(i,1);break}a.resetBoundsTimerId&&clearInterval(a.resetBoundsTimerId)},m.prototype.getTimeSeriesOptions=function(a){for(var e=this.seriesSet.length,i=0;i<e;i++)if(this.seriesSet[i].timeSeries===a)return this.seriesSet[i].options},m.prototype.bringToFront=function(a){for(var e=this.seriesSet.length,i=0;i<e;i++)if(this.seriesSet[i].timeSeries===a){var r=this.seriesSet.splice(i,1);this.seriesSet.push(r[0]);break}},m.prototype.streamTo=function(a,e){this.canvas=a,this.clientWidth=parseInt(this.canvas.getAttribute("width")),this.clientHeight=parseInt(this.canvas.getAttribute("height")),this.delay=e,this.start()},m.prototype.getTooltipEl=function(){return this.tooltipEl||(this.tooltipEl=document.createElement("div"),this.tooltipEl.className="smoothie-chart-tooltip",this.tooltipEl.style.pointerEvents="none",this.tooltipEl.style.position="absolute",this.tooltipEl.style.display="none",document.body.appendChild(this.tooltipEl)),this.tooltipEl},m.prototype.updateTooltip=function(){if(this.options.tooltip){var a=this.getTooltipEl();if(!this.mouseover||!this.options.tooltip){a.style.display="none";return}for(var e=this.lastChartTimestamp,i=this.options.scrollBackwards?e-this.mouseX*this.options.millisPerPixel:e-(this.clientWidth-this.mouseX)*this.options.millisPerPixel,r=[],l=0;l<this.seriesSet.length;l++){var t=this.seriesSet[l].timeSeries;if(!t.disabled){var n=y.binarySearch(t.data,i);n>0&&n<t.data.length&&r.push({series:this.seriesSet[l],index:n,value:t.data[n][1]})}}r.length?(a.innerHTML=this.options.tooltipFormatter.call(this,i,r),a.style.display="block"):a.style.display="none"}},m.prototype.mousemove=function(a){if(this.mouseover=!0,this.mouseX=a.offsetX,this.mouseY=a.offsetY,this.mousePageX=a.pageX,this.mousePageY=a.pageY,!!this.options.tooltip){var e=this.getTooltipEl();e.style.top=Math.round(this.mousePageY)+"px",e.style.left=Math.round(this.mousePageX)+"px",this.updateTooltip()}},m.prototype.mouseout=function(){this.mouseover=!1,this.mouseX=this.mouseY=-1,this.tooltipEl&&(this.tooltipEl.style.display="none")},m.prototype.resize=function(){var a=!this.options.enableDpiScaling||!window?1:window.devicePixelRatio,e,i;this.options.responsive?(e=this.canvas.offsetWidth,i=this.canvas.offsetHeight,e!==this.lastWidth&&(this.lastWidth=e,this.canvas.setAttribute("width",Math.floor(e*a).toString()),this.canvas.getContext("2d").scale(a,a)),i!==this.lastHeight&&(this.lastHeight=i,this.canvas.setAttribute("height",Math.floor(i*a).toString()),this.canvas.getContext("2d").scale(a,a)),this.clientWidth=e,this.clientHeight=i):(e=parseInt(this.canvas.getAttribute("width")),i=parseInt(this.canvas.getAttribute("height")),a!==1?(Math.floor(this.clientWidth*a)!==e&&(this.canvas.setAttribute("width",Math.floor(e*a).toString()),this.canvas.style.width=e+"px",this.clientWidth=e,this.canvas.getContext("2d").scale(a,a)),Math.floor(this.clientHeight*a)!==i&&(this.canvas.setAttribute("height",Math.floor(i*a).toString()),this.canvas.style.height=i+"px",this.clientHeight=i,this.canvas.getContext("2d").scale(a,a))):(this.clientWidth=e,this.clientHeight=i))},m.prototype.start=function(){if(!this.frame){this.canvas.addEventListener("mousemove",this.mousemove),this.canvas.addEventListener("mouseout",this.mouseout);var a=function(){this.frame=m.AnimateCompatibility.requestAnimationFrame(function(){if(this.options.nonRealtimeData){var e=new Date(0),i=this.seriesSet.reduce(function(r,l){var t=l.timeSeries.data,n=Math.round(this.options.displayDataFromPercentile*t.length)-1;if(n=n>=0?n:0,n=n<=t.length-1?n:t.length-1,t&&t.length>0){var o=t[n][0];r=r>o?r:o}return r}.bind(this),e);this.render(this.canvas,i>e?i:null)}else this.render();a()}.bind(this))}.bind(this);a()}},m.prototype.stop=function(){this.frame&&(m.AnimateCompatibility.cancelAnimationFrame(this.frame),delete this.frame,this.canvas.removeEventListener("mousemove",this.mousemove),this.canvas.removeEventListener("mouseout",this.mouseout))},m.prototype.updateValueRange=function(){for(var a=this.options,e=Number.NaN,i=Number.NaN,r=0;r<this.seriesSet.length;r++){var l=this.seriesSet[r].timeSeries;l.disabled||(isNaN(l.maxValue)||(e=isNaN(e)?l.maxValue:Math.max(e,l.maxValue)),isNaN(l.minValue)||(i=isNaN(i)?l.minValue:Math.min(i,l.minValue)))}if(a.maxValue!=null?e=a.maxValue:e*=a.maxValueScale,a.minValue!=null?i=a.minValue:i-=Math.abs(i*a.minValueScale-i),this.options.yRangeFunction){var t=this.options.yRangeFunction({min:i,max:e});i=t.min,e=t.max}if(!isNaN(e)&&!isNaN(i)){var n=e-i,o=n-this.currentValueRange,w=i-this.currentVisMinValue;this.isAnimatingScale=Math.abs(o)>.1||Math.abs(w)>.1,this.currentValueRange+=a.scaleSmoothing*o,this.currentVisMinValue+=a.scaleSmoothing*w}this.valueRange={min:i,max:e}},m.prototype.render=function(a,e){var i=Date.now();if(!(this.options.limitFPS>0&&i-this.lastRenderTimeMillis<1e3/this.options.limitFPS)){if(e=(e||i)-(this.delay||0),e-=e%this.options.millisPerPixel,!this.isAnimatingScale){var r=this.lastChartTimestamp===e;if(r){var l=i-this.lastRenderTimeMillis>166.66666666666666;if(!l)return}}this.lastRenderTimeMillis=i,this.lastChartTimestamp=e,this.resize(),a=a||this.canvas;var t=a.getContext("2d"),n=this.options,o={top:0,left:0,width:this.clientWidth,height:this.clientHeight},w=e-o.width*n.millisPerPixel,se=function(E,g){var P=E-this.currentVisMinValue,W=this.currentValueRange===0?o.height:o.height*(1-P/this.currentValueRange);return y.pixelSnap(W,g)}.bind(this),K=function(E,g){var P=n.scrollBackwards?(e-E)/n.millisPerPixel:o.width-(e-E)/n.millisPerPixel;return y.pixelSnap(P,g)};if(this.updateValueRange(),t.font=n.labels.fontSize+"px "+n.labels.fontFamily,t.save(),t.translate(o.left,o.top),t.beginPath(),t.rect(0,0,o.width,o.height),t.clip(),t.save(),t.fillStyle=n.grid.fillStyle,t.clearRect(0,0,o.width,o.height),t.fillRect(0,0,o.width,o.height),t.restore(),t.save(),t.lineWidth=n.grid.lineWidth,t.strokeStyle=n.grid.strokeStyle,n.grid.millisPerLine>0){t.beginPath();for(var N=e-e%n.grid.millisPerLine;N>=w;N-=n.grid.millisPerLine){var F=K(N,n.grid.lineWidth);t.moveTo(F,0),t.lineTo(F,o.height)}t.stroke(),t.closePath()}for(var B=1;B<n.grid.verticalSections;B++){var _=y.pixelSnap(B*o.height/n.grid.verticalSections,n.grid.lineWidth);t.beginPath(),t.moveTo(0,_),t.lineTo(o.width,_),t.stroke(),t.closePath()}if(n.grid.borderVisible&&(t.beginPath(),t.strokeRect(0,0,o.width,o.height),t.closePath()),t.restore(),n.horizontalLines&&n.horizontalLines.length)for(var re=0;re<n.horizontalLines.length;re++){var oe=n.horizontalLines[re],ye=oe.lineWidth||1,I=se(oe.value,ye);t.strokeStyle=oe.color||"#ffffff",t.lineWidth=ye,t.beginPath(),t.moveTo(0,I),t.lineTo(o.width,I),t.stroke(),t.closePath()}for(var Q=0;Q<this.seriesSet.length;Q++){var L=this.seriesSet[Q].timeSeries,X=L.data;if(L.dropOldData(w,n.maxDataSetLength),!(X.length<=1||L.disabled)){t.save();var M=this.seriesSet[Q].options,U=M.strokeStyle&&M.strokeStyle!=="none",z=U?M.lineWidth:0;t.beginPath();var le=K(X[0][0],z),k=se(X[0][1],z),he=le,$=k,Z;switch(t.moveTo(le,k),M.interpolation||n.interpolation){case"linear":case"line":{Z=function(E,g,P,W){t.lineTo(E,g)};break}case"bezier":default:{Z=function(E,g,P,W){t.bezierCurveTo(Math.round((P+E)/2),W,Math.round(P+E)/2,g,E,g)};break}case"step":{Z=function(E,g,P,W){t.lineTo(E,W),t.lineTo(E,g)};break}}for(var ce=1;ce<X.length;ce++){var j=X[ce],be=K(j[0],z),Ee=se(j[1],z);Z(be,Ee,he,$),he=be,$=Ee}U&&(t.lineWidth=M.lineWidth,t.strokeStyle=M.strokeStyle,t.stroke()),M.fillStyle&&(t.lineTo(he,o.height+z+1),t.lineTo(le,o.height+z+1),t.fillStyle=M.fillStyle,t.fill()),t.restore()}}n.tooltip&&this.mouseX>=0&&(t.lineWidth=n.tooltipLine.lineWidth,t.strokeStyle=n.tooltipLine.strokeStyle,t.beginPath(),t.moveTo(this.mouseX,0),t.lineTo(this.mouseX,o.height),t.closePath(),t.stroke()),this.updateTooltip();var A=n.labels;if(!A.disabled&&!isNaN(this.valueRange.min)&&!isNaN(this.valueRange.max)){var Te=n.yMaxFormatter(this.valueRange.max,A.precision),ee=n.yMinFormatter(this.valueRange.min,A.precision),T=n.scrollBackwards?0:o.width-t.measureText(Te).width-2,D=n.scrollBackwards?0:o.width-t.measureText(ee).width-2;t.fillStyle=A.fillStyle,t.fillText(Te,T,A.fontSize),t.fillText(ee,D,o.height-2)}if(A.showIntermediateLabels&&!isNaN(this.valueRange.min)&&!isNaN(this.valueRange.max)&&n.grid.verticalSections>0)for(var de=(this.valueRange.max-this.valueRange.min)/n.grid.verticalSections,Pe=o.height/n.grid.verticalSections,B=1;B<n.grid.verticalSections;B++){var _=o.height-Math.round(B*Pe),ue=n.yIntermediateFormatter(this.valueRange.min+B*de,A.precision),me=A.intermediateLabelSameAxis?n.scrollBackwards?0:o.width-t.measureText(ue).width-2:n.scrollBackwards?o.width-t.measureText(ue).width-2:0;t.fillText(ue,me,_-n.grid.lineWidth)}if(n.timestampFormatter&&n.grid.millisPerLine>0)for(var fe=n.scrollBackwards?t.measureText(ee).width:o.width-t.measureText(ee).width+4,N=e-e%n.grid.millisPerLine;N>=w;N-=n.grid.millisPerLine){var F=K(N,0);if(!n.scrollBackwards&&F<fe||n.scrollBackwards&&F>fe){var H=new Date(N),G=n.timestampFormatter(H),pe=t.measureText(G).width;fe=n.scrollBackwards?F+pe+2:F-pe-2,t.fillStyle=n.labels.fillStyle,n.scrollBackwards?t.fillText(G,F,o.height-2):t.fillText(G,F-pe,o.height-2)}}if(n.title.text!==""){t.font=n.title.fontSize+"px "+n.title.fontFamily;var Ve=n.scrollBackwards?o.width-t.measureText(n.title.text).width-2:2;if(n.title.verticalAlign=="bottom"){t.textBaseline="bottom";var J=o.height}else if(n.title.verticalAlign=="middle"){t.textBaseline="middle";var J=o.height/2}else{t.textBaseline="top";var J=0}t.fillStyle=n.title.fillStyle,t.fillText(n.title.text,Ve,J)}t.restore()}},m.timeFormatter=function(a){function e(i){return(i<10?"0":"")+i}return e(a.getHours())+":"+e(a.getMinutes())+":"+e(a.getSeconds())},C.TimeSeries=b,C.SmoothieChart=m})(Ae)})(Et);const{document:Ne}=bt;function Tt(Ae){let C,y,b,m,a,e,i,r,l,t,n,o,w,se,K,N,F,B,_,re,oe,ye,I,Q,L,X,M,U,z,le,k,he,$,Z,ce,j,be,Ee,A,Te,ee,T,D,de,Pe,ue,me,fe,H,G,pe,Ve,J,E,g,P,W,qe,Fe,Oe,te,ke,Ye,Xe,Ce,Ue,ie,Be,$e,je,Me,_e,R,ve,Ge,ge,Je,we,Ke,xe,Qe,et;return{c(){C=c("meta"),y=c("meta"),b=c("meta"),m=c("style"),a=p(`.electrode-section {
            display: flex;
            flex-wrap: wrap;
            padding: 5px;
        }

        .electrode-item {
            margin: 5px;
        }

        .electrode-item h3 {
            text-align: center;
            margin-bottom: 4px;
        }

        canvas {
            background: #333;
            border: solid black 1px;
        }`),e=x(),i=c("section"),r=c("button"),l=p("Connect!"),t=x(),n=c("div"),o=p("Name: "),w=c("span"),se=p("unknown"),K=p(`
        Firmware: `),N=c("span"),F=p("unknown"),B=p(`,
        Hardware version: `),_=c("span"),re=p("unknown"),oe=p("."),ye=x(),I=c("div"),Q=p("Temperature: "),L=c("span"),X=p("unknown"),M=p(", Battery: "),U=c("span"),z=p("unknown"),le=x(),k=c("div"),he=p("Accelerometer: x="),$=c("span"),Z=p("?"),ce=p(", y="),j=c("span"),be=p("?"),Ee=p(", z="),A=c("span"),Te=p("?"),ee=x(),T=c("div"),D=c("div"),de=c("h3"),Pe=p("Electrode 1"),ue=x(),me=c("canvas"),fe=x(),H=c("div"),G=c("h3"),pe=p("Electrode 2"),Ve=x(),J=c("canvas"),E=x(),g=c("div"),P=c("h3"),W=p("Electrode 3"),qe=x(),Fe=c("canvas"),Oe=x(),te=c("div"),ke=c("h3"),Ye=p("Electrode 4"),Xe=x(),Ce=c("canvas"),Ue=x(),ie=c("div"),Be=c("h3"),$e=p("Electrode 5"),je=x(),Me=c("canvas"),_e=x(),R=c("section"),ve=c("canvas"),Ge=x(),ge=c("canvas"),Je=x(),we=c("canvas"),Ke=x(),xe=c("canvas"),this.h()},l(V){const q=St("svelte-14p2sm3",Ne.head);C=d(q,"META",{charset:!0}),y=d(q,"META",{name:!0,content:!0}),b=d(q,"META",{"http-equiv":!0,content:!0}),m=d(q,"STYLE",{});var tt=f(m);a=v(tt,`.electrode-section {
            display: flex;
            flex-wrap: wrap;
            padding: 5px;
        }

        .electrode-item {
            margin: 5px;
        }

        .electrode-item h3 {
            text-align: center;
            margin-bottom: 4px;
        }

        canvas {
            background: #333;
            border: solid black 1px;
        }`),tt.forEach(h),q.forEach(h),e=S(V),i=d(V,"SECTION",{});var O=f(i);r=d(O,"BUTTON",{});var it=f(r);l=v(it,"Connect!"),it.forEach(h),t=S(O),n=d(O,"DIV",{});var ae=f(n);o=v(ae,"Name: "),w=d(ae,"SPAN",{id:!0});var at=f(w);se=v(at,"unknown"),at.forEach(h),K=v(ae,`
        Firmware: `),N=d(ae,"SPAN",{id:!0});var nt=f(N);F=v(nt,"unknown"),nt.forEach(h),B=v(ae,`,
        Hardware version: `),_=d(ae,"SPAN",{id:!0});var st=f(_);re=v(st,"unknown"),st.forEach(h),oe=v(ae,"."),ae.forEach(h),ye=S(O),I=d(O,"DIV",{});var Re=f(I);Q=v(Re,"Temperature: "),L=d(Re,"SPAN",{id:!0});var rt=f(L);X=v(rt,"unknown"),rt.forEach(h),M=v(Re,", Battery: "),U=d(Re,"SPAN",{id:!0});var ot=f(U);z=v(ot,"unknown"),ot.forEach(h),Re.forEach(h),le=S(O),k=d(O,"DIV",{});var Se=f(k);he=v(Se,"Accelerometer: x="),$=d(Se,"SPAN",{id:!0});var lt=f($);Z=v(lt,"?"),lt.forEach(h),ce=v(Se,", y="),j=d(Se,"SPAN",{id:!0});var ht=f(j);be=v(ht,"?"),ht.forEach(h),Ee=v(Se,", z="),A=d(Se,"SPAN",{id:!0});var ct=f(A);Te=v(ct,"?"),ct.forEach(h),Se.forEach(h),ee=S(O),T=d(O,"DIV",{class:!0});var Y=f(T);D=d(Y,"DIV",{class:!0});var Ie=f(D);de=d(Ie,"H3",{});var dt=f(de);Pe=v(dt,"Electrode 1"),dt.forEach(h),ue=S(Ie),me=d(Ie,"CANVAS",{id:!0}),f(me).forEach(h),Ie.forEach(h),fe=S(Y),H=d(Y,"DIV",{class:!0});var Le=f(H);G=d(Le,"H3",{});var ut=f(G);pe=v(ut,"Electrode 2"),ut.forEach(h),Ve=S(Le),J=d(Le,"CANVAS",{id:!0}),f(J).forEach(h),Le.forEach(h),E=S(Y),g=d(Y,"DIV",{class:!0});var ze=f(g);P=d(ze,"H3",{});var mt=f(P);W=v(mt,"Electrode 3"),mt.forEach(h),qe=S(ze),Fe=d(ze,"CANVAS",{id:!0}),f(Fe).forEach(h),ze.forEach(h),Oe=S(Y),te=d(Y,"DIV",{class:!0});var De=f(te);ke=d(De,"H3",{});var ft=f(ke);Ye=v(ft,"Electrode 4"),ft.forEach(h),Xe=S(De),Ce=d(De,"CANVAS",{id:!0}),f(Ce).forEach(h),De.forEach(h),Ue=S(Y),ie=d(Y,"DIV",{class:!0});var He=f(ie);Be=d(He,"H3",{});var pt=f(Be);$e=v(pt,"Electrode 5"),pt.forEach(h),je=S(He),Me=d(He,"CANVAS",{id:!0}),f(Me).forEach(h),He.forEach(h),Y.forEach(h),O.forEach(h),_e=S(V),R=d(V,"SECTION",{});var ne=f(R);ve=d(ne,"CANVAS",{id:!0,width:!0,height:!0}),f(ve).forEach(h),Ge=S(ne),ge=d(ne,"CANVAS",{id:!0,width:!0,height:!0}),f(ge).forEach(h),Je=S(ne),we=d(ne,"CANVAS",{id:!0,width:!0,height:!0}),f(we).forEach(h),Ke=S(ne),xe=d(ne,"CANVAS",{id:!0,width:!0,height:!0}),f(xe).forEach(h),ne.forEach(h),this.h()},h(){u(C,"charset","UTF-8"),u(y,"name","viewport"),u(y,"content","width=device-width, initial-scale=1.0"),u(b,"http-equiv","X-UA-Compatible"),u(b,"content","ie=edge"),Ne.title="Plot",u(w,"id","headset-name"),u(N,"id","firmware-version"),u(_,"id","hardware-version"),u(L,"id","temperature"),u(U,"id","batteryLevel"),u($,"id","accelerometer-x"),u(j,"id","accelerometer-y"),u(A,"id","accelerometer-z"),u(me,"id","electrode1"),u(D,"class","electrode-item"),u(J,"id","electrode2"),u(H,"class","electrode-item"),u(Fe,"id","electrode3"),u(g,"class","electrode-item"),u(Ce,"id","electrode4"),u(te,"class","electrode-item"),u(Me,"id","electrode5"),u(ie,"class","electrode-item"),u(T,"class","electrode-section"),u(ve,"id","TP9"),u(ve,"width","400"),u(ve,"height","100"),u(ge,"id","AF7"),u(ge,"width","400"),u(ge,"height","100"),u(we,"id","AF8"),u(we,"width","400"),u(we,"height","100"),u(xe,"id","TP10"),u(xe,"width","400"),u(xe,"height","100")},m(V,q){s(Ne.head,C),s(Ne.head,y),s(Ne.head,b),s(Ne.head,m),s(m,a),We(V,e,q),We(V,i,q),s(i,r),s(r,l),s(i,t),s(i,n),s(n,o),s(n,w),s(w,se),s(n,K),s(n,N),s(N,F),s(n,B),s(n,_),s(_,re),s(n,oe),s(i,ye),s(i,I),s(I,Q),s(I,L),s(L,X),s(I,M),s(I,U),s(U,z),s(i,le),s(i,k),s(k,he),s(k,$),s($,Z),s(k,ce),s(k,j),s(j,be),s(k,Ee),s(k,A),s(A,Te),s(i,ee),s(i,T),s(T,D),s(D,de),s(de,Pe),s(D,ue),s(D,me),s(T,fe),s(T,H),s(H,G),s(G,pe),s(H,Ve),s(H,J),s(T,E),s(T,g),s(g,P),s(P,W),s(g,qe),s(g,Fe),s(T,Oe),s(T,te),s(te,ke),s(ke,Ye),s(te,Xe),s(te,Ce),s(T,Ue),s(T,ie),s(ie,Be),s(Be,$e),s(ie,je),s(ie,Me),We(V,_e,q),We(V,R,q),s(R,ve),s(R,Ge),s(R,ge),s(R,Je),s(R,we),s(R,Ke),s(R,xe),Qe||(et=yt(r,"click",Ae[0]),Qe=!0)},p:Ze,i:Ze,o:Ze,d(V){h(C),h(y),h(b),h(m),V&&h(e),V&&h(i),V&&h(_e),V&&h(R),Qe=!1,et()}}}function Nt(Ae){async function C(){const y=Array.from(document.querySelectorAll(".electrode-item h3")),b=Array.from(document.querySelectorAll(".electrode-item canvas")),m=b.map(i=>i.getContext("2d"));y.forEach((i,r)=>{i.textContent=vt.channelNames[r]});function a(i){const r=b[i.electrode],l=m[i.electrode];if(!l)return;const t=r.width/12,n=r.height/2;l.fillStyle="green",l.clearRect(0,0,r.width,r.height);for(let o=0;o<i.samples.length;o++){const w=i.samples[o]/15;w>0?l.fillRect(o*25,n-w,t,w):l.fillRect(o*25,n,t,-w)}}const e=new vt.MuseClient;e.connectionStatus.subscribe(i=>{console.log(i?"Connected!":"Disconnected")});try{e.enableAux=!0,await e.connect(),await e.start(),document.getElementById("headset-name").innerText=e.deviceName,e.eegReadings.subscribe(i=>{a(i)}),e.telemetryData.subscribe(i=>{document.getElementById("temperature").innerText=i.temperature.toString()+"℃",document.getElementById("batteryLevel").innerText=i.batteryLevel.toFixed(2)+"%"}),e.accelerometerData.subscribe(i=>{const r=l=>(l/16384).toFixed(2)+"g";document.getElementById("accelerometer-x").innerText=r(i.samples[2].x),document.getElementById("accelerometer-y").innerText=r(i.samples[2].y),document.getElementById("accelerometer-z").innerText=r(i.samples[2].z)}),await e.deviceInfo().then(i=>{document.getElementById("hardware-version").innerText=i.hw,document.getElementById("firmware-version").innerText=i.fw})}catch(i){console.error("Connection failed",i)}}return[C]}class Vt extends gt{constructor(C){super(),wt(this,C,Nt,Tt,xt,{})}}export{Vt as default};
